<header>
  <nav class="bg-gradient-purple rounded-br-[50px] text-white">
    <div class="py-10 px-4 text-white bg-main-bg bg-cover">
      <a class="profile-picture" [routerLink]="['/home/profile']"><img src="{{userInfo.getUserInfo().image}}"
          class="w-[40px] h-[40px] rounded-full" align="right" /></a>
      <span class="font-bold text-lg">{{userInfo.getUserInfo().name}}<br>
        <p class="font-medium text-lg">{{userInfo.getUserInfo().id}}</p>
      </span>
    </div>
    <div class="rounded-lg bg-slate-100 shadow-md py-1 p-4 flex items-center mx-4 gap-2 ">
      <input type="text" class="font-medium text-xl text-gray-500 bg-transparent border-none w-full focus:outline-none"
        placeholder="{{'search' | transloco}}">
      <button type="submit" class="fas fa-search fa-xl text-gray-400" [routerLink]="['/home/search']"></button>
    </div>
    <div class="mx-4 py-4"></div>
  </nav>
</header>
<div class="animate__animated animate__fadeIn">
  <section>
    <div class="mx-4 py-7 flex justify-between items-center">
      <div>
        <h1 class="text-xl font-bold dark:text-white">{{'fitness' | transloco}}</h1>
        <p class="text-sm text-gray-500 dark:text-white">{{'update' | transloco}}</p>
      </div>
      <app-circular-progress [progress]="76"></app-circular-progress>
    </div>
    <div class="border-t border-gray-300 my-2"></div>
  </section>

  <section class="mx-4">
    <div class="flex justify-between items-end dark:text-white">
      <h1 class="text-xl font-bold">{{'yoga-categories' | transloco}}</h1>
      <div class="flex items-center text-gray-500 pr-2" [routerLink]="['']">
        <a class="text-sm mx-2 dark:text-white">{{'see-all' | transloco}}</a>
        <span class="fas fa-chevron-right"></span>
      </div>
    </div>
    <div class="carrousel mt-4 flex gap-5">
      @if (isLoadingCategories) {
        @for (i of [1,2,3,4,5,6,7,8,9]; track $index) {
          <app-square-skeleton [dimensions]="{width: '69px', heigth: '69px'}"/>
        }
      } @else {
        <div class="carrousel mt-4 flex gap-5">
          @for (c of categories; track c.id) {
            <article class="bg-purple-200 dark:bg-slate-600 rounded-lg shadow-md w-[100px]">
              <div class="flex gap-1 flex-col items-center justify-center py-2">
                <img [src]="c.icon" alt="category" class="object-cover rounded-xl w-[30px] m-auto" style="fill: red">
                <span class="block">{{c.name}}</span>
              </div>
            </article>
          }
        </div>
      }
    </div>
  </section>

  <section class="mx-4 py-7">
    <div class="flex justify-between items-end dark:text-white">
      <h1 class="text-xl font-bold">{{'popular-courses'| transloco}}</h1>
      <div class="flex items-center text-gray-500 pr-2" [routerLink]="['/home/main-course']">
        <a class="text-sm mx-2 dark:text-white">{{'see-all' | transloco}}</a>
        <span class="fas fa-chevron-right"></span>
      </div>
    </div>
    @if (isLoadingPopulars) {
      <div class="carrousel flex gap-5 mt-4">
        @for (item of [1,2,3,4]; track $index) {
          <app-square-skeleton [dimensions]="{width: '164px', heigth: '150px'}" />
        }
      </div>
    } @else {
      <app-carrusel-bg-img [items]="popularCourses" />
    }
  </section>

  <section class="mx-4 py-7">
    <div class="flex justify-between items-end dark:text-white">
      <h1 class="text-xl font-bold">{{'video-courses' | transloco}}</h1>
      <div class="flex items-center text-gray-500 pr-2" [routerLink]="['/home/video-list']">
        <a class="text-sm mx-2 dark:text-white">{{'see-all' | transloco}}</a>
        <span class="fas fa-chevron-right"></span>
      </div>
    </div>

    <div class="carrousel mt-4 flex gap-5">
      @for (item of videoCourses; track item.id) {
        <app-player-card [item]="adaptToPlayerCard(item)"/>
      }
    </div>
  </section>

  <section class="mx-4 py-7">
    <div class="flex justify-between items-end dark:text-white">
      <h1 class="text-xl font-bold">{{'our-latest-blogs'| transloco}}</h1>
      <div class="flex items-center text-gray-500 pr-2" [routerLink]="['/home/main-blogs']">
        <a class="text-sm mx-2 dark:text-white">{{'see-all' | transloco}}</a>
        <span class="fas fa-chevron-right"></span>
      </div>
    </div>

    <div class="grid grid-cols-2 mt-4 gap-4 justify-center">
      @if (isLoadingBlogs) {
        @for (item of [1,2,3,4]; track $index) {
          <app-square-skeleton [dimensions]="{width: '175px', heigth: '175px'}" />
        }
      } @else {
        @for (blog of latestBlogs; track blog.id) {
          <article class="rounded-lg w-[190px] p-2 ">
            <img [src]="blog.image" alt="course" class="w-full h-36 object-cover rounded-xl">
            <div class="p-4">
              <h1 class="text-lg font-bold text-wrap dark:text-white">{{ blog.name }}</h1>
              <div class="flex justify-between mt-3">
                <p class="text-sm text-gray-500 text-wrap dark:text-white">{{ blog.description }}</p>
              </div>
            </div>
          </article>
        }
      }
    </div>
  </section>
</div>